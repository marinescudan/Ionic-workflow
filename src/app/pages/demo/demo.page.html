<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button [defaultHref]="'/chapters/' + chapterId"></ion-back-button>
    </ion-buttons>
    <ion-title>
      {{ chapter?.title || 'Live Demos' }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="demo-page-container">

    <!-- Demo Selector (if multiple demos) -->
    @if (demos.length > 1) {
      <div class="demo-selector">
        <ion-segment
          [value]="selectedDemo?.id"
          (ionChange)="selectDemo(demoService.getDemoById($any($event).detail.value)!)"
          scrollable
        >
          @for (demo of demos; track demo.id) {
            <ion-segment-button
              [value]="demo.id"
            >
              <ion-icon [name]="demo.icon"></ion-icon>
              <ion-label>{{ demo.name }}</ion-label>
            </ion-segment-button>
          }
        </ion-segment>
      </div>
    }

    <!-- Component Playground -->
    @if (selectedDemo) {
      <app-component-playground
        [demoComponent]="selectedDemo"
      ></app-component-playground>
    }

    <!-- Empty State -->
    @if (demos.length === 0) {
      <div class="empty-state">
        <ion-icon name="alert-circle" color="medium"></ion-icon>
        <h2>No Demos Available</h2>
        <p>This chapter doesn't have interactive demos yet.</p>
        <p>Check back later or explore other chapters!</p>
      </div>
    }
  </div>
</ion-content>
